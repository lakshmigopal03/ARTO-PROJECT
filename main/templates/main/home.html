{% extends 'main/base.html' %}
{% load static %}

{% block title %}ARTO - Discover Amazing Artworks{% endblock %}

{% block content %}
<!-- Display Messages -->
{% if messages %}
    {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    {% endfor %}
{% endif %}

<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="row align-items-center min-vh-100">
            <div class="col-lg-6">
                {% if user.is_authenticated %}
                    <h1 class="display-3 fw-bold text-white mb-4">
                        Welcome back, <span class="text-warning">{{ user.first_name|default:user.username }}</span>!
                    </h1>
                    <p class="lead text-white mb-4">
                        Ready to discover new artworks or showcase your own creations? 
                        Your personalized art journey continues here.
                    </p>
                    <div class="d-flex gap-3 flex-wrap">
                        <a href="#" class="btn btn-warning btn-lg px-4 py-3">
                            <i class="fas fa-search me-2"></i>Browse Gallery
                        </a>
                        <a href="#" class="btn btn-outline-light btn-lg px-4 py-3">
                            <i class="fas fa-paint-brush me-2"></i>Sell Your Art
                        </a>
                    </div>
                {% else %}
                    <h1 class="display-3 fw-bold text-white mb-4">
                        Discover & Collect <span class="text-warning">Extraordinary</span> Artworks
                    </h1>
                    <p class="lead text-white mb-4">
                        Connect with talented artists worldwide. Buy original artworks, support creators, 
                        and build your dream art collection.
                    </p>
                    <div class="d-flex gap-3 flex-wrap">
                        <a href="#" class="btn btn-warning btn-lg px-4 py-3">
                            <i class="fas fa-search me-2"></i>Browse Gallery
                        </a>
                        <a href="{% url 'register' %}" class="btn btn-outline-light btn-lg px-4 py-3">
                            <i class="fas fa-user-plus me-2"></i>Join ARTO
                        </a>
                    </div>
                {% endif %}
                
                <!-- Stats -->
                <div class="row mt-5">
                    <div class="col-4">
                        <div class="text-center">
                            <h3 class="text-warning mb-0">5,000+</h3>
                            <small class="text-white-50">Artworks</small>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="text-center">
                            <h3 class="text-warning mb-0">1,200+</h3>
                            <small class="text-white-50">Artists</small>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="text-center">
                            <h3 class="text-warning mb-0">850+</h3>
                            <small class="text-white-50">Happy Collectors</small>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="art-showcase">
                    <img src="https://images.unsplash.com/photo-1541961017774-22349e4a1262?w=500&h=600&fit=crop" 
                         class="img-fluid rounded shadow-lg" alt="Featured Artwork">
                </div>
            </div>
        </div>
    </div>
</section>

<!-- User-specific Section -->
{% if user.is_authenticated %}
<section class="py-5 bg-info bg-opacity-10">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-4">
                <h2 class="display-6 fw-bold">Your ARTO Dashboard</h2>
                <p class="lead text-muted">Quick access to your favorite features</p>
            </div>
        </div>
        <div class="row g-4">
            <div class="col-md-3">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center">
                        <i class="fas fa-heart fa-3x text-danger mb-3"></i>
                        <h5>Favorites</h5>
                        <p class="text-muted">View saved artworks</p>
                        <a href="#" class="btn btn-outline-primary">View Favorites</a>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center">
                        <i class="fas fa-shopping-bag fa-3x text-success mb-3"></i>
                        <h5>My Orders</h5>
                        <p class="text-muted">Track your purchases</p>
                        <a href="#" class="btn btn-outline-success">View Orders</a>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center">
                        <i class="fas fa-palette fa-3x text-warning mb-3"></i>
                        <h5>My Gallery</h5>
                        <p class="text-muted">Manage your artworks</p>
                        <a href="#" class="btn btn-outline-warning">Manage Art</a>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card h-100 border-0 shadow-sm">
                    <div class="card-body text-center">
                        <i class="fas fa-user fa-3x text-info mb-3"></i>
                        <h5>Profile</h5>
                        <p class="text-muted">Edit your profile</p>
                        <a href="#" class="btn btn-outline-info">Edit Profile</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endif %}

<!-- Featured Categories -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="display-5 fw-bold">Explore Art Categories</h2>
                <p class="lead text-muted">Discover artworks across various mediums and styles</p>
            </div>
        </div>
        <div class="row g-4">
            {% for category in featured_categories %}
            <div class="col-md-6 col-lg-3">
                <div class="category-card h-100">
                    <div class="category-image">
                        <img src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop" 
                             class="img-fluid" alt="{{ category.name }}">
                        <div class="category-overlay">
                            <h5 class="text-white fw-bold">{{ category.name }}</h5>
                            <p class="text-white-50 mb-0">{{ category.count }} artworks</p>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Featured Artists -->
<section class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="display-5 fw-bold">Featured Artists</h2>
                <p class="lead text-muted">Meet talented creators from around the world</p>
            </div>
        </div>
        <div class="row g-4">
            {% for artist in featured_artists %}
            <div class="col-md-4">
                <div class="artist-card text-center">
                    <div class="artist-avatar mb-3">
                        <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=face" 
                             class="rounded-circle" alt="{{ artist.name }}">
                    </div>
                    <h5 class="fw-bold">{{ artist.name }}</h5>
                    <p class="text-muted mb-2">{{ artist.specialty }}</p>
                    <small class="text-warning">{{ artist.works }} artworks</small>
                    {% if user.is_authenticated %}
                        <div class="mt-2">
                            <button class="btn btn-sm btn-outline-primary">Follow</button>
                        </div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- How It Works -->
<section class="py-5 bg-primary">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center mb-5">
                <h2 class="display-5 fw-bold text-white">How ARTO Works</h2>
                <p class="lead text-white-75">Simple steps to start your art journey</p>
            </div>
        </div>
        <div class="row g-4">
            <div class="col-md-4 text-center">
                <div class="how-it-works-step">
                    <div class="step-icon mb-3">
                        <i class="fas fa-search fa-3x text-warning"></i>
                    </div>
                    <h4 class="text-white fw-bold">1. Discover</h4>
                    <p class="text-white-75">Browse thousands of unique artworks from talented artists worldwide</p>
                </div>
            </div>
            <div class="col-md-4 text-center">
                <div class="how-it-works-step">
                    <div class="step-icon mb-3">
                        <i class="fas fa-heart fa-3x text-warning"></i>
                    </div>
                    <h4 class="text-white fw-bold">2. Connect</h4>
                    <p class="text-white-75">Follow favorite artists, save artworks, and build your collection</p>
                </div>
            </div>
            <div class="col-md-4 text-center">
                <div class="how-it-works-step">
                    <div class="step-icon mb-3">
                        <i class="fas fa-shopping-bag fa-3x text-warning"></i>
                    </div>
                    <h4 class="text-white fw-bold">3. Collect</h4>
                    <p class="text-white-75">Purchase securely and support artists while building your dream collection</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action Section -->
<section class="py-5 bg-dark">
    <div class="container text-center">
        {% if user.is_authenticated %}
            <h2 class="text-white fw-bold mb-3">Ready to Explore More Art?</h2>
            <p class="text-white-75 mb-4">Discover new artworks and connect with amazing artists</p>
            <a href="#" class="btn btn-warning btn-lg px-5 py-3">
                <i class="fas fa-palette me-2"></i>Browse Gallery
            </a>
        {% else %}
            <h2 class="text-white fw-bold mb-3">Ready to Start Your Art Journey?</h2>
            <p class="text-white-75 mb-4">Join thousands of art lovers and discover your next favorite piece</p>
            <div class="d-flex gap-3 justify-content-center flex-wrap">
                <a href="{% url 'register' %}" class="btn btn-warning btn-lg px-5 py-3">
                    <i class="fas fa-rocket me-2"></i>Get Started Today
                </a>
                <a href="{% url 'login' %}" class="btn btn-outline-light btn-lg px-5 py-3">
                    <i class="fas fa-sign-in-alt me-2"></i>Login
                </a>
            </div>
        {% endif %}
    </div>
</section>

<!-- Additional CSS for new features -->
<style>
/* Existing styles remain the same */
.hero-section {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    position: relative;
    overflow: hidden;
}

.hero-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.3);
}

.hero-section .container {
    position: relative;
    z-index: 2;
}

.art-showcase {
    position: relative;
    animation: float 6s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
}

.category-card {
    position: relative;
    overflow: hidden;
    border-radius: 15px;
    cursor: pointer;
    transition: transform 0.3s ease;
}

.category-card:hover {
    transform: translateY(-10px);
}

.category-image {
    position: relative;
    height: 250px;
    overflow: hidden;
}

.category-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.category-card:hover .category-image img {
    transform: scale(1.1);
}

.category-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(transparent, rgba(0,0,0,0.8));
    padding: 30px 20px 20px;
}

.artist-card {
    background: white;
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.artist-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(0,0,0,0.15);
}

.artist-avatar img {
    width: 100px;
    height: 100px;
    object-fit: cover;
    border: 4px solid #fdcb6e;
}

.how-it-works-step {
    padding: 20px;
}

.step-icon {
    width: 80px;
    height: 80px;
    background: rgba(255,255,255,0.1);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 20px;
}

/* Dashboard cards hover effects */
.card:hover {
    transform: translateY(-3px);
    transition: transform 0.3s ease;
}

@media (max-width: 768px) {
    .hero-section .display-3 {
        font-size: 2.5rem;
    }
    
    .category-image {
        height: 200px;
    }
    
    .artist-card {
        margin-bottom: 30px;
    }
}
</style>
{% endblock %}